(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{6855:function(e,t,i){Promise.resolve().then(i.bind(i,6127))},794:function(e,t,i){"use strict";i.d(t,{T:function(){return c},f:function(){return d}});var a=i(7437),r=i(2265),n=i(1705),l=i(124),o=i(3236);let s=(0,r.createContext)(void 0),c=()=>{let e=(0,r.useContext)(s);if(!e)throw Error("useThemeContext must be used within a ThemeProvider");return e},d=e=>{let{children:t}=e,[i,c]=(0,r.useState)("light"),[d,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=window.localStorage.getItem("theme");e&&o.n[e]&&c(e),p(!0)},[]);let h=o.n[i];return d?(0,a.jsx)(s.Provider,{value:{setTheme:e=>{window.localStorage.setItem("theme",e),c(e)},theme:h,themeName:i},children:(0,a.jsxs)(n.Z,{theme:h,children:[(0,a.jsx)(l.ZP,{}),t]})}):null}},9203:function(e,t,i){"use strict";var a=i(7437);i(2265);var r=i(2960),n=i(4379),l=i(5836),o=i(5870),s=i(794),c=i(3236),d=i(4599);t.Z=()=>{let{setTheme:e,themeName:t}=(0,s.T)(),i=(0,r.Z)();return(0,a.jsx)(n.Z,{variant:"outlined",children:(0,a.jsx)(d.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,a.jsx)(l.Z,{value:t,onChange:t=>{e(t.target.value)},label:"Theme",sx:{color:i.palette.text.primary,borderColor:i.palette.divider,"& fieldset":{borderColor:i.palette.divider},"&:hover fieldset":{borderColor:i.palette.primary.main}},children:Object.keys(c.n).map(e=>(0,a.jsx)(o.Z,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})})})}},6127:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return E}});var a=i(7437),r=i(2960),n=i(4587),l=i(1326),o=i(6548),s=i(511),c=i(270),d=i(4696),p=i(2265),h=i(2900),x=i(7260),u=i(4599),y=i(7346),m=i(5211),f=i(794);m.kL.register(m.uw,m.f$,m.od,m.jn,m.Dx,m.u,m.De);var g=e=>{let{stockData:t,predictions:i}=e,{theme:r}=(0,f.T)(),n=t.length>0?t[t.length-1].price:0,l=t.length>1?t[t.length-2].price:0,o=(n-l)/l*100,s=t.map(e=>e.date),c=[...s],d=new Date(s[s.length-1]);for(let e=1;e<=7;e++){let t=new Date(d.getTime());t.setDate(t.getDate()+e);let i="".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate().toString().padStart(2,"0"));c.push(i)}let p=[{label:"Stock Price",data:t.map(e=>e.price),fill:!1,borderColor:r.palette.primary.main,backgroundColor:r.palette.background.paper,tension:.1}],h=i.findIndex(e=>null!==e);if(-1!==h){let e=Array(t.length).fill(null);e[t.length]=i[h],p.push({label:"Predicted Price",data:e,fill:!1,borderColor:r.palette.secondary.main,backgroundColor:r.palette.primary.main,tension:.1})}let x={responsive:!0,scales:{x:{title:{display:!0,text:"Date",color:r.palette.text.primary},ticks:{color:r.palette.text.primary}},y:{title:{display:!0,text:"Price",color:r.palette.text.primary},ticks:{color:r.palette.text.primary}}},plugins:{legend:{labels:{color:r.palette.text.primary}}}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.x1,{data:{labels:c,datasets:p},options:x}),(0,a.jsxs)("div",{style:{marginTop:"20px",display:"flex",alignItems:"center",color:r.palette.text.primary},children:[(0,a.jsxs)("h3",{children:["Latest Price: $",n.toFixed(2)]}),(0,a.jsx)(u.E.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5},style:{marginLeft:"10px"},children:0!==o&&(0,a.jsx)("svg",{width:"10",height:"10",style:{marginLeft:"5px",transform:"rotate(".concat("up"==(o>=0?"up":"down")?0:180,"deg)")},children:(0,a.jsx)("polygon",{points:"0,0 10,0 5,10",fill:o>=0?"green":"red"})})}),(0,a.jsxs)("p",{style:{marginLeft:"10px"},children:["Percentage Change: ",o.toFixed(2),"%"]})]})]})};let v=async e=>{let t="https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=".concat(e,"&apikey=").concat("I6Y2KESEOAXB59YP"),i=await fetch(t),a=await i.json();if(console.log("Raw Data:",a),!a["Time Series (Daily)"])return console.error("Error fetching stock data:",a),[];{let e=Object.keys(a["Time Series (Daily)"]).map(e=>({date:e,price:parseFloat(a["Time Series (Daily)"][e]["4. close"])})).reverse();return console.log("Parsed Stock Data:",e),e}},b=async e=>{try{let t=await fetch("https://api.thenewsapi.com/v1/news/all?api_token=LxfOFGHySf3AAhfsdIN4t4cXZ4efT5ErOwZbPrnL&search=".concat(e,"&language=en&categories=business"));if(!t.ok)throw Error("Failed to fetch news data");return(await t.json()).data}catch(e){return console.error("Error fetching news data:",e),[]}},j=async e=>{try{let t=await fetch("https://stock-sage-3v4h.onrender.com/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:e})});if(!t.ok)throw Error("Failed to fetch predictions: ".concat(t.status));let i=await t.json();console.log("Data from server:",i);let{predictions:a,sentiment:r,article_titles_summary:n}=i;return{predictions:a,sentiment:r,article_titles_summary:n}}catch(e){throw console.error("Error fetching predictions:",e),e}};var w=i(9203);let k={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};var D=e=>{let{sentiment:t,articleSummary:i}=e;return(0,a.jsxs)(l.Z,{display:"flex",flexDirection:"column",p:2,borderRadius:2,bgcolor:"background.paper",boxShadow:3,sx:{width:"fit-content",marginBottom:"20px"},component:u.E.div,initial:"hidden",animate:"visible",transition:{duration:.5,ease:"easeInOut"},children:[(0,a.jsx)(u.E.div,{variants:k,transition:{delay:.1,duration:.5},children:(0,a.jsx)(s.Z,{variant:"h6",mb:2,children:"Analysis"})}),(0,a.jsx)(u.E.div,{variants:k,transition:{delay:.2,duration:.5},children:(0,a.jsxs)(s.Z,{variant:"body1",mb:2,children:["Sentiment: ",t.toFixed(2)]})}),(0,a.jsx)(u.E.div,{variants:k,transition:{delay:.3,duration:.5},children:(0,a.jsx)(s.Z,{variant:"body2",children:i})})]})},E=()=>{let e=(0,r.Z)(),[t,i]=(0,p.useState)([]),[y,m]=(0,p.useState)([]),[f,k]=(0,p.useState)([]),[E,Z]=(0,p.useState)(!1),[S,C]=(0,p.useState)(0),[I,T]=(0,p.useState)(""),[P,F]=(0,p.useState)(null),[_,L]=(0,p.useState)(!1);(0,p.useEffect)(()=>{(async()=>{let e=new URLSearchParams(window.location.search).get("stock");e&&F(e),L(!0)})()},[]),(0,p.useEffect)(()=>{(async()=>{if(P){i(await v(P)),m(await b(P));let e=await j(P);e&&void 0!==e.sentiment&&C(e.sentiment),e&&e.article_titles_summary&&T(e.article_titles_summary),e&&e.predictions&&k(e.predictions)}})()},[P]),(0,p.useEffect)(()=>{let e=setInterval(()=>{Z(e=>!e)},3e3);return()=>clearInterval(e)},[]);let O={hidden:{opacity:0},visible:{opacity:1,transition:{duration:1}}},R={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeInOut"}}};return _?(0,a.jsx)(n.Z,{sx:{height:"100vh",backgroundColor:e.palette.background.default,paddingTop:"64px",paddingRight:"8px"},children:(0,a.jsxs)(u.E.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,a.jsx)(l.Z,{display:"flex",justifyContent:"left",alignItems:"center",mt:2,mb:2,children:(0,a.jsx)(o.Z,{variant:"contained",color:"primary",onClick:()=>window.location.href="/",children:"Back to Home"})}),(0,a.jsx)(l.Z,{display:"flex",justifyContent:"center",alignItems:"center",mt:2,mb:2,children:(0,a.jsx)(w.Z,{})}),(0,a.jsx)(u.E.div,{initial:"hidden",animate:"visible",variants:O,style:{flex:1},children:(0,a.jsx)(l.Z,{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",mt:4,sx:{height:"calc(100% - 64px)"},children:f.length>0?(0,a.jsx)(u.E.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5},children:(0,a.jsxs)(l.Z,{display:"flex",alignItems:"center",justifyContent:"center",p:2,bgcolor:e.palette.background.paper,borderRadius:2,boxShadow:3,sx:{width:"fit-content"},children:[(0,a.jsxs)(s.Z,{variant:"h5",style:{marginRight:"8px"},children:["Prediction: $",f[0].toFixed(2)]}),f[0]>0?(0,a.jsx)(u.E.div,{initial:{opacity:0,scale:.5},animate:{opacity:0,scale:1},transition:{duration:.5},style:{color:"green"},whileHover:{y:E?-3:3},children:(0,a.jsx)(h.Z,{fontSize:"large"})}):(0,a.jsx)(u.E.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5},style:{color:"red"},whileHover:{y:E?-3:3},children:(0,a.jsx)(x.Z,{fontSize:"large"})})]})}):(0,a.jsx)(s.Z,{variant:"h6",children:"Loading prediction..."})})}),(0,a.jsxs)(u.E.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:O,style:{height:"100%"},children:[(0,a.jsx)(u.E.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5},children:(0,a.jsxs)(l.Z,{display:"flex",flexDirection:"row",justifyContent:"space-between",mt:4,sx:{height:"calc(100% - 64px)"},children:[(0,a.jsx)(u.E.div,{initial:"hidden",animate:"visible",variants:O,style:{width:"60%"},children:(0,a.jsxs)(l.Z,{display:"flex",flexDirection:"column",p:2,borderRadius:2,sx:{height:"100%"},children:[(0,a.jsxs)(s.Z,{variant:"h6",children:[P," Chart"]}),(0,a.jsx)(g,{stockData:t,predictions:f})]})}),(0,a.jsx)(l.Z,{display:"flex",flexDirection:"column",width:"35%",ml:2,sx:{height:"100%",maxHeight:"calc(100vh - 64px)",overflowY:"auto","&::-webkit-scrollbar":{width:"12px"},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px ".concat(e.palette.background.default),borderRadius:"10px"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.palette.primary.main,borderRadius:"10px",border:"3px solid ".concat(e.palette.background.default)}},children:(0,a.jsx)(p.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:(0,a.jsx)(u.E.div,{initial:"hidden",animate:"visible",variants:O,style:{flex:1},children:(0,a.jsx)(c.Z,{sx:{height:"100%"},children:(0,a.jsx)(d.Z,{children:(0,a.jsxs)(l.Z,{sx:{maxHeight:"100%",overflowY:"auto"},children:[(0,a.jsxs)(s.Z,{variant:"h6",children:[P," News"]}),y.map((e,t)=>(0,a.jsx)(u.E.div,{variants:R,transition:{delay:.1*t},children:(0,a.jsxs)(l.Z,{mb:2,children:[(0,a.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(s.Z,{variant:"body1",children:e.title})}),(0,a.jsx)(s.Z,{variant:"body2",children:e.description})]})},t))]})})})})})})]})}),(0,a.jsx)(u.E.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5},children:(0,a.jsx)(l.Z,{display:"flex",flexDirection:"column",width:"95%",mt:4,p:2,borderRadius:2,alignItems:"center",children:(0,a.jsx)(D,{sentiment:S,articleSummary:I})})})]})]})}):(0,a.jsx)("div",{children:"Loading..."})}},3236:function(e,t,i){"use strict";i.d(t,{n:function(){return n}});var a=i(4444);let r=(0,a.Z)({palette:{mode:"light",primary:{main:"#1976d2"},secondary:{main:"#9c27b0"},background:{default:"#ffffff",paper:"#f5f5f5"},text:{primary:"#333"},divider:"#ccc"},typography:{h6:{color:"#333"},body1:{color:"#333"},body2:{color:"#666"}}}),n={light:r,dark:(0,a.Z)({palette:{mode:"dark",primary:{main:"#D3D9D4"},secondary:{main:"#124e66"},background:{default:"#212A31",paper:"#2E3944"},text:{primary:"#D3D9D4"},divider:"#D3D9D4"},typography:{h6:{color:"#D3D9D4"},body1:{color:"#748D92"},body2:{color:"#D3D9D4"}}}),LoveSick:(0,a.Z)({palette:{mode:"light",primary:{main:"#9a1750"},secondary:{main:"#e3afbc"},background:{default:"#5d001e",paper:"#e3afbc"},text:{primary:"#ee4c7c",secondary:"#ee4c7c"}},typography:{h6:{color:"#ee4c7c"},body1:{color:"#ffffff"},body2:{color:"#666666"}}}),"Deep Vintage":(0,a.Z)({palette:{mode:"light",primary:{main:"#244855"},secondary:{main:"#E64833"},background:{default:"#874F41",paper:"#90AEAD"},text:{primary:"#FBE9D0"},divider:"#ccc"},typography:{h6:{color:"#FBE9D0"},body1:{color:"#244855"},body2:{color:"#FBE9D0"}}})}}},function(e){e.O(0,[674,650,59,946,971,23,744],function(){return e(e.s=6855)}),_N_E=e.O()}]);